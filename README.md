# peter91peter91_infra


#HW-06 (lesson-08).

#Практика IaC с использованием Terraform
Установлен и инициализирован Terraform.
Для деплоя тестового приложения использованы поставщики provisioners:
"file"(приложение puma.service), "remote-exec"(развертка инстанса).

main.tf - добавлен ресурс для создания инстанса VM в YC.
variables.tf - содержит входные переменные и их описание
terraform.tfvars   - определяет значения входных переменных(добавлен в гитингор)
terraform.tfvars.example - для тестов препода
outputs.tf - содержит внешние IP-адреса всех сущностей 
puma.service - наше приложение для проброса в новый инстанс


#Задание с **
Ручное создание инстансов неоптимально.
lb.tf - Создан HTTP-балансировщик 
Для масштабирования  в балансировщике lb.tf использованы: параметр ресурса count = 2 и dynamic "target" .

deploy.sh - в скрипт добавлен костыль по подстраховке 
          - от "невысвобожденности ресурсов - блокировка процесса от одновременного изменения содержимого файла dpkg"
